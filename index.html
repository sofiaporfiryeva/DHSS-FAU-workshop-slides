<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ask Martha Nussbaum: What Should I Read?</title>

    <!-- Reveal.js CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/theme/white.css" id="theme">

    <style>
      .reveal .slides { font-size: 30px; }
      .reveal h1, .reveal h2, .reveal h3 { letter-spacing: .3px; }
      .badge { display:inline-block; padding:.2em .5em; border-radius:.5em; border:1px solid #ddd; font-size:.6em; vertical-align: middle; }
      small.muted { color:#666; font-size:.7em; }
      pre { max-height: 420px; overflow:auto; border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,.15); background:#111; color:#eee; padding:12px; }
      pre code { font-family: ui-monospace, Menlo, Consolas, monospace; font-size:.85em; line-height:1.45; }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <!-- SLIDE 1 -->
        <section>
          <h2>Ask Martha Nussbaum: <em>What Should I Read?</em></h2>
          <p>A compact Digital Humanities prototype in <strong>R</strong> &amp; <strong>Shiny</strong></p>
          <ul>
            <li>How do Nussbaum's <strong>citation practices</strong> shape authority?</li>
            <li>Embeddings search over <strong>clean, annotated bibliographies</strong></li>
            <li>Entries typed: <em>book / article / chapter / other</em></li>
          </ul>
          <p><span class="badge">R</span> <span class="badge">Shiny</span> <span class="badge">GloVe</span> <span class="badge">cosine similarity</span></p>
        </section>

        <!-- SLIDE 2 -->
        <section>
          <h2>Data &amp; Annotations (from CSV â†’ tidy)</h2>
          <p>We start from a <strong>clean, tagged</strong> bibliography CSV.</p>
<pre><code>library(readr); library(dplyr)
bib <- read_csv("nus_bibliography_tagged_full_ThoD.csv") %>%
  transmute(
    id    = row_number(),
    title = coalesce(title, "(missing title)"),
    author,
    year  = as.integer(year),
    type  = factor(type, levels = c("book","article","chapter","other")),
    source = coalesce(source, "")
  )
count(bib, type, sort = TRUE)</code></pre>
          <small class="muted">Types curated: <em>book / article / chapter / other</em>. Ready for embeddings.</small>
        </section>

        <!-- SLIDE 3 -->
        <section>
          <h2>Embeddings Workflow</h2>
          <ul>
            <li>Train <strong>GloVe</strong> locally once; save artifacts to <strong>RData</strong></li>
            <li>Shiny loads: <code>word_vectors</code>, <code>title_embeddings</code>, <code>bib</code></li>
            <li>Query â†’ tokenize â†’ keep <strong>in-vocab</strong> â†’ <strong>mean vector</strong> â†’ cosine top-k</li>
          </ul>
<pre><code># Artifacts expected in nussbaum_glove.RData
# word_vectors: matrix [V x D]
# title_embeddings: matrix [N x D]
load("nussbaum_glove.RData")</code></pre>
          <small class="muted">OOV queries (e.g., <em>computer</em>) return no hits.</small>
        </section>

        <!-- SLIDE 4 -->
        <section>
          <h2>Shiny server â€” cosine similarity</h2>
<pre><code>server <- function(input, output, session) {
  results <- eventReactive(input$go, {
    req(input$query)
    output$status <- renderText("ðŸ”Ž Searching, please wait...")
    query_tokens <- word_tokenizer(tolower(input$query))[[1]]
    valid_tokens <- query_tokens[query_tokens %in% rownames(word_vectors)]
    if (length(valid_tokens) == 0) {
      output$status <- renderText("Sorry! We have to think a bit more on this topic.")
      return(NULL)
    }
    query_vector <- colMeans(word_vectors[valid_tokens, , drop = FALSE])
    sims <- apply(title_embeddings, 1, cosine_similarity, y = query_vector)
    top_indices <- order(sims, decreasing = TRUE)[1:input$n]
    results <- bib[top_indices, ]; results$similarity <- round(sims[top_indices], 3)
    output$status <- renderText("âœ… Found some readings!"); results
  })
}</code></pre>
          <small class="muted">UI: <code>query</code> (text), <code>n</code> (top-k), <code>go</code> button, <code>status</code> textOutput.</small>
        </section>

        <!-- SLIDE 5 -->
        <section>
          <h2>Why it matters â†’ Next steps</h2>
          <ul>
            <li>Makes the <strong>canon structure</strong> visible in a woman philosopher's oeuvre</li>
            <li>Insights: author-gender skew, dominance of ancient male sources</li>
            <li>Next: more books; stronger <strong>gender annotation</strong>; simple dashboards</li>
          </ul>
          <small class="muted">Takeaway: fast, reproducible evidence for how gender &amp; canon co-produce authority.</small>
        </section>

      </div>
    </div>

    <!-- Reveal.js JS -->
